On M3 pro with running it 10 times for each configuration:

metal:
{'encode': [53.57, 44.88, 37.76, 36.71, 37.04, 37.43, 37.66, 37.25, 37.48, 37.82], 'decode': [1.38, 1.51, 1.37, 1.36, 1.37, 1.36, 1.47, 1.41, 1.4, 1.39], 'load coreml': [], 'total': [238.77, 207.33, 200.46, 198.3, 197.81, 200.75, 202.29, 203.33, 202.18, 208.32]}
encode time: first run: 53.57, avg: 38.23, std: 2.38
decode time: first run: 1.38, avg: 1.40, std: 0.05
total time: first run: 238.77, avg: 202.31, std: 3.41

30min podcast:
whisper_print_timings:     load time =    87.91 ms
whisper_print_timings:     fallbacks =   0 p /   1 h
whisper_print_timings:      mel time =   805.62 ms
whisper_print_timings:   sample time =  6920.74 ms / 36283 runs (    0.19 ms per run)
whisper_print_timings:   encode time =  1322.75 ms /    85 runs (   15.56 ms per run)
whisper_print_timings:   decode time =   113.41 ms /    74 runs (    1.53 ms per run)
whisper_print_timings:   batchd time = 18378.07 ms / 35787 runs (    0.51 ms per run)
whisper_print_timings:   prompt time =   617.93 ms / 18955 runs (    0.03 ms per run)
whisper_print_timings:    total time = 28343.08 ms


coreml ANE:
{'encode': [37.1, 36.76, 35.43, 36.54, 30.61, 36.31, 30.44, 39.92, 29.68, 35.28], 'decode': [1.42, 1.38, 1.41, 1.29, 1.91, 1.45, 1.36, 1.4, 1.96, 1.64], 'load coreml': [49.55, 49.61, 42.6, 42.4, 43.55, 46.52, 45.48, 44.31, 44.6, 47.12], 'total': [295.77, 273.25, 252.53, 242.74, 253.3, 258.01, 253.31, 262.64, 256.95, 256.25]}
encode time: first run: 37.10, avg: 34.55, std: 3.30
decode time: first run: 1.42, avg: 1.53, std: 0.23
load coreml time: first run: 49.55, avg: 45.13, std: 2.20
total time: first run: 295.77, avg: 256.55, std: 7.79

whisper_print_timings:     load time =    86.08 ms
whisper_print_timings:     fallbacks =   0 p /   0 h
whisper_print_timings:      mel time =   804.08 ms
whisper_print_timings:   sample time =  7135.70 ms / 37534 runs (    0.19 ms per run)
whisper_print_timings:   encode time =  1642.61 ms /    83 runs (   19.79 ms per run)
whisper_print_timings:   decode time =   169.39 ms /   108 runs (    1.57 ms per run)
whisper_print_timings:   batchd time = 19693.60 ms / 37014 runs (    0.53 ms per run)
whisper_print_timings:   prompt time =   616.25 ms / 18501 runs (    0.03 ms per run)
whisper_print_timings:    total time = 30262.49 ms

coreml GPU:
{'encode': [59.51, 48.05, 43.72, 43.66, 44.29, 45.9, 45.0, 44.76, 45.58, 46.32], 'decode': [1.48, 1.58, 1.43, 1.43, 2.04, 1.44, 2.0, 1.98, 1.49, 1.45], 'load coreml': [52.15, 25.42, 25.41, 25.95, 25.8, 26.62, 25.65, 25.56, 25.79, 25.63], 'total': [293.35, 231.47, 241.59, 243.93, 245.7, 239.94, 249.41, 240.53, 240.84, 245.26]}
encode time: first run: 59.51, avg: 45.25, std: 1.32
decode time: first run: 1.48, avg: 1.65, std: 0.26
load coreml time: first run: 52.15, avg: 25.76, std: 0.35
total time: first run: 293.35, avg: 242.07, std: 4.73

whisper_print_timings:     load time =    93.39 ms
whisper_print_timings:     fallbacks =   0 p /   1 h
whisper_print_timings:      mel time =   808.69 ms
whisper_print_timings:   sample time =  6917.58 ms / 36283 runs (    0.19 ms per run)
whisper_print_timings:   encode time =  1317.79 ms /    85 runs (   15.50 ms per run)
whisper_print_timings:   decode time =   113.66 ms /    74 runs (    1.54 ms per run)
whisper_print_timings:   batchd time = 18486.69 ms / 35787 runs (    0.52 ms per run)
whisper_print_timings:   prompt time =   616.47 ms / 18955 runs (    0.03 ms per run)
whisper_print_timings:    total time = 28452.74 ms

TODP:
 what's batchd time?

Power:

metal:
1ms sampling rate
{'CPU': 153.96, 'GPU': 157.64, 'ANE': 0.0}
10ms 
{'CPU': 127.27, 'GPU': 153.83, 'ANE': 0.0}
100 ms
{'CPU': 112.12, 'GPU': 145.45, 'ANE': 0.0}
1000ms
{'CPU': 117.54, 'GPU': 149.29, 'ANE': 0.0}


 coreml:
1ms
{'CPU': 158.01, 'GPU': 91.51, 'ANE': 5.31}
10ms
{'CPU': 128.28, 'GPU': 97.49, 'ANE': 5.37}
100ms
{'CPU': 110.04, 'GPU': 85.32, 'ANE': 5.44}
1000ms
{'CPU': 106.48, 'GPU': 82.38, 'ANE': 5.28}


